<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='控制流 # if条件 # if .. else .. # fn main() { let number = 3; if number < 5 { println!("condition was true"); } else { println!("condition was false"); } } else if # fn main() { let number = 6; if number % 4 == 0 { println!("number is divisible by 4"); } else if number % 3 == 0 { println!("number is divisible by 3"); } else if number % 2 == 0 { println!'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="控制流"><meta property="og:description" content='控制流 # if条件 # if .. else .. # fn main() { let number = 3; if number < 5 { println!("condition was true"); } else { println!("condition was false"); } } else if # fn main() { let number = 6; if number % 4 == 0 { println!("number is divisible by 4"); } else if number % 3 == 0 { println!("number is divisible by 3"); } else if number % 2 == 0 { println!'><meta property="og:type" content="article"><meta property="og:url" content="https://www.panwenbin.com/cookbook/rust-syntax/control-flow/"><meta property="article:section" content="rust-syntax"><meta property="article:published_time" content="2024-04-06T00:00:00+08:00"><meta property="article:modified_time" content="2024-04-06T00:00:00+08:00"><title>控制流 | 手册</title>
<link rel=manifest href=/cookbook/manifest.json><link rel=icon href=/cookbook/favicon.png><link rel=canonical href=https://www.panwenbin.com/cookbook/rust-syntax/control-flow/><link rel=stylesheet href=/cookbook/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/cookbook/flexsearch.min.js></script><script defer src=/cookbook/en.search.min.29d816df3c0627a76afbc0efdfc1e8ae3cedfecbb612f3f966acc450f0ad53e9.js integrity="sha256-KdgW3zwGJ6dq+8Dv38Horjzt/su2EvP5ZqzEUPCtU+k=" crossorigin=anonymous></script><script defer src=/cookbook/sw.min.233904d40383ebd50417f4463a379a37197f6dcb35921a777de65daf485b13f9.js integrity="sha256-IzkE1AOD69UEF/RGOjeaNxl/bcs1khp3feZdr0hbE/k=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/cookbook/><span>手册</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Rust语法速查</span><ul><li><a href=/cookbook/rust-syntax/basic/>基础</a></li><li><a href=/cookbook/rust-syntax/control-flow/ class=active>控制流</a></li><li><a href=/cookbook/rust-syntax/shorten/>简写</a></li></ul></li><li class=book-section-flat><span>Rust项目工程</span><ul><li><a href=/cookbook/rust-project/cross-compile/>交叉编译</a></li></ul></li><li class=book-section-flat><span>Golang语法速查</span><ul><li><a href=/cookbook/golang-syntax/basic/>基础</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/cookbook/svg/menu.svg class=book-icon alt=Menu>
</label><strong>控制流</strong>
<label for=toc-control><img src=/cookbook/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#if条件>if条件</a><ul><li><a href=#if--else-><code>if .. else ..</code></a></li><li><a href=#else-if><code>else if</code></a></li><li><a href=#if-condition-1-else-2><code>if condition {1} else {2}</code></a></li><li><a href=#if-let-somex--x-><code>if let Some(x) = x {..}</code></a></li></ul></li><li><a href=#循环>循环</a><ul><li><a href=#loop--break-><code>loop { break }</code></a></li><li><a href=#label-loop--break-label-><code>'label loop { break 'label }</code></a></li><li><a href=#while><code>while</code></a></li><li><a href=#for-iter><code>for iter</code></a></li><li><a href=#for-range><code>for range</code></a></li></ul></li><li><a href=#match>match</a><ul><li><a href=#match-enum><code>match enum</code></a></li><li><a href=#match-optiont><code>match Option&lt;T></code></a></li><li><a href=#match-resultt-e><code>match Result&lt;T, E></code></a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=控制流>控制流
<a class=anchor href=#%e6%8e%a7%e5%88%b6%e6%b5%81>#</a></h1><h2 id=if条件>if条件
<a class=anchor href=#if%e6%9d%a1%e4%bb%b6>#</a></h2><h3 id=if--else-><code>if .. else ..</code>
<a class=anchor href=#if--else->#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> number <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;condition was true&#34;</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;condition was false&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=else-if><code>else if</code>
<a class=anchor href=#else-if>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> number <span style=color:#f92672>%</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;number is divisible by 4&#34;</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> number <span style=color:#f92672>%</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;number is divisible by 3&#34;</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> number <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;number is divisible by 2&#34;</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;number is not divisible by 4, 3, or 2&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=if-condition-1-else-2><code>if condition {1} else {2}</code>
<a class=anchor href=#if-condition-1-else-2>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> condition <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> number <span style=color:#f92672>=</span> <span style=color:#66d9ef>if</span> condition { <span style=color:#ae81ff>5</span> } <span style=color:#66d9ef>else</span> { <span style=color:#ae81ff>6</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The value of number is: </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span>, number);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=if-let-somex--x-><code>if let Some(x) = x {..}</code>
<a class=anchor href=#if-let-somex--x->#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> Some(<span style=color:#ae81ff>3</span>) <span style=color:#f92672>=</span> some_u8_value {
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;three&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>等价于 match x {Some(x) => ..}</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>let</span> some_u8_value <span style=color:#f92672>=</span> Some(<span style=color:#ae81ff>0</span><span style=color:#66d9ef>u8</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>match</span> some_u8_value {
</span></span><span style=display:flex><span>    Some(<span style=color:#ae81ff>3</span>) <span style=color:#f92672>=&gt;</span> println!(<span style=color:#e6db74>&#34;three&#34;</span>),
</span></span><span style=display:flex><span>    _ <span style=color:#f92672>=&gt;</span> (),
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=循环>循环
<a class=anchor href=#%e5%be%aa%e7%8e%af>#</a></h2><h3 id=loop--break-><code>loop { break }</code>
<a class=anchor href=#loop--break->#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> counter <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>loop</span> {
</span></span><span style=display:flex><span>        counter <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> counter <span style=color:#f92672>==</span> <span style=color:#ae81ff>10</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span> counter <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>; <span style=color:#75715e>// break可以带返回值，并赋值给result
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;The result is </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span>, result);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=label-loop--break-label-><code>'label loop { break 'label }</code>
<a class=anchor href=#label-loop--break-label->#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>&#39;counting_up</span>: <span style=color:#a6e22e>loop</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;count = </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span>, count);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> remaining <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>loop</span> {
</span></span><span style=display:flex><span>            println!(<span style=color:#e6db74>&#34;remaining = </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span>, remaining);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> remaining <span style=color:#f92672>==</span> <span style=color:#ae81ff>9</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> count <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span> &#39;counting_up;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            remaining <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        count <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;End count = </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span>, count);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=while><code>while</code>
<a class=anchor href=#while>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> number <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>!&#34;</span>, number);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        number <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;LIFTOFF!!!&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=for-iter><code>for iter</code>
<a class=anchor href=#for-iter>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> [<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>50</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> element <span style=color:#66d9ef>in</span> a {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;the value is: </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span>, element);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=for-range><code>for range</code>
<a class=anchor href=#for-range>#</a></h3><p>range只能小到大, 可以用.rev()逆序</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> number <span style=color:#66d9ef>in</span> (<span style=color:#ae81ff>1</span><span style=color:#f92672>..</span><span style=color:#ae81ff>4</span>).rev() {
</span></span><span style=display:flex><span>        println!(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>!&#34;</span>, number);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    println!(<span style=color:#e6db74>&#34;LIFTOFF!!!&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=match>match
<a class=anchor href=#match>#</a></h2><h3 id=match-enum><code>match enum</code>
<a class=anchor href=#match-enum>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>Coin</span> {
</span></span><span style=display:flex><span>    Penny,
</span></span><span style=display:flex><span>    Nickel,
</span></span><span style=display:flex><span>    Dime,
</span></span><span style=display:flex><span>    Quarter(UsState),
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>value_in_cents</span>(coin: <span style=color:#a6e22e>Coin</span>) -&gt; <span style=color:#66d9ef>u8</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>match</span> coin {
</span></span><span style=display:flex><span>        Coin::Penny <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>            println!(<span style=color:#e6db74>&#34;Lucky penny!&#34;</span>); <span style=color:#75715e>// 如果更多逻辑可以加{}，并最后返回表达式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        Coin::Nickel <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>5</span>,
</span></span><span style=display:flex><span>        Coin::Dime <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>10</span>,
</span></span><span style=display:flex><span>        Coin::Quarter(state) <span style=color:#f92672>=&gt;</span> { <span style=color:#75715e>// 绑定值可以捕获，变量名自定, 不捕获用_
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            println!(<span style=color:#e6db74>&#34;State quarter from </span><span style=color:#e6db74>{:?}</span><span style=color:#e6db74>!&#34;</span>, state);
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>25</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=match-optiont><code>match Option&lt;T></code>
<a class=anchor href=#match-optiont>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>plus_one</span>(x: Option<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) -&gt; Option<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>match</span> x {
</span></span><span style=display:flex><span>        None <span style=color:#f92672>=&gt;</span> None,
</span></span><span style=display:flex><span>        Some(i) <span style=color:#f92672>=&gt;</span> Some(i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> five <span style=color:#f92672>=</span> Some(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> six <span style=color:#f92672>=</span> plus_one(five);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> none <span style=color:#f92672>=</span> plus_one(None);
</span></span></code></pre></div><h3 id=match-resultt-e><code>match Result&lt;T, E></code>
<a class=anchor href=#match-resultt-e>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> std::fs::File;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> f <span style=color:#f92672>=</span> File::open(<span style=color:#e6db74>&#34;hello.txt&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> f <span style=color:#f92672>=</span> <span style=color:#66d9ef>match</span> f {
</span></span><span style=display:flex><span>        Ok(file) <span style=color:#f92672>=&gt;</span> file,
</span></span><span style=display:flex><span>        Err(error) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>            panic!(<span style=color:#e6db74>&#34;Problem opening the file: </span><span style=color:#e6db74>{:?}</span><span style=color:#e6db74>&#34;</span>, error)
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#if条件>if条件</a><ul><li><a href=#if--else-><code>if .. else ..</code></a></li><li><a href=#else-if><code>else if</code></a></li><li><a href=#if-condition-1-else-2><code>if condition {1} else {2}</code></a></li><li><a href=#if-let-somex--x-><code>if let Some(x) = x {..}</code></a></li></ul></li><li><a href=#循环>循环</a><ul><li><a href=#loop--break-><code>loop { break }</code></a></li><li><a href=#label-loop--break-label-><code>'label loop { break 'label }</code></a></li><li><a href=#while><code>while</code></a></li><li><a href=#for-iter><code>for iter</code></a></li><li><a href=#for-range><code>for range</code></a></li></ul></li><li><a href=#match>match</a><ul><li><a href=#match-enum><code>match enum</code></a></li><li><a href=#match-optiont><code>match Option&lt;T></code></a></li><li><a href=#match-resultt-e><code>match Result&lt;T, E></code></a></li></ul></li></ul></nav></div></aside></main></body></html>